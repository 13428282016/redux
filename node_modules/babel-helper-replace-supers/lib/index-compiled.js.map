{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nvar _classCallCheck = require(\"babel-runtime/helpers/class-call-check\")[\"default\"];\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _babelHelperOptimiseCallExpression = require(\"babel-helper-optimise-call-expression\");\n\nvar _babelHelperOptimiseCallExpression2 = _interopRequireDefault(_babelHelperOptimiseCallExpression);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\n// ✌️\n\n/*:: import type { NodePath, Scope } from \"babel-traverse\";*/var HARDCORE_THIS_REF = _Symbol();\n\nfunction isIllegalBareSuper(node, parent) {\n  if (!t.isSuper(node)) return false;\n  if (t.isMemberExpression(parent, { computed: false })) return false;\n  if (t.isCallExpression(parent, { callee: node })) return false;\n  return true;\n}\n\nfunction isMemberExpressionSuper(node) {\n  return t.isMemberExpression(node) && t.isSuper(node.object);\n}\n\nvar visitor = {\n  \"ObjectMethod|ClassMethod\": function ObjectMethodClassMethod(path) {\n    path.skip();\n  },\n\n  \"FunctionDeclaration|FunctionExpression\": function FunctionDeclarationFunctionExpression(path) {\n    if (!path.inShadow(\"this\")) {\n      path.skip();\n    }\n  },\n\n  ReturnStatement: function ReturnStatement(path, state) {\n    if (!path.inShadow(\"this\")) {\n      state.returns.push(path);\n    }\n  },\n\n  ThisExpression: function ThisExpression(path, state) {\n    if (!path.node[HARDCORE_THIS_REF]) {\n      state.thises.push(path);\n    }\n  },\n\n  enter: function enter(path, state) {\n    var callback = state.specHandle;\n    if (state.isLoose) callback = state.looseHandle;\n\n    var isBareSuper = path.isCallExpression() && path.get(\"callee\").isSuper();\n\n    var result = callback.call(state, path);\n\n    if (result) {\n      state.hasSuper = true;\n    }\n\n    if (isBareSuper) {\n      state.bareSupers.push(path);\n    }\n\n    if (result === true) {\n      path.requeue();\n    }\n\n    if (result !== true && result) {\n      if (Array.isArray(result)) {\n        path.replaceWithMultiple(result);\n      } else {\n        path.replaceWith(result);\n      }\n    }\n  }\n};\n\nvar ReplaceSupers = (function () {\n  function ReplaceSupers(opts /*: Object*/) {\n    var inClass /*:: ?: boolean*/ = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    _classCallCheck(this, ReplaceSupers);\n\n    this.forceSuperMemoisation = opts.forceSuperMemoisation;\n    this.methodPath = opts.methodPath;\n    this.methodNode = opts.methodNode;\n    this.superRef = opts.superRef;\n    this.isStatic = opts.isStatic;\n    this.hasSuper = false;\n    this.inClass = inClass;\n    this.isLoose = opts.isLoose;\n    this.scope = this.methodPath.scope;\n    this.file = opts.file;\n    this.opts = opts;\n\n    this.bareSupers = [];\n    this.returns = [];\n    this.thises = [];\n  }\n\n  ReplaceSupers.prototype.getObjectRef = function getObjectRef() {\n    return this.opts.objectRef || this.opts.getObjectRef();\n  };\n\n  /**\n   * Sets a super class value of the named property.\n   *\n   * @example\n   *\n   *   _set(Object.getPrototypeOf(CLASS.prototype), \"METHOD\", \"VALUE\", this)\n   *\n   */\n\n  ReplaceSupers.prototype.setSuperProperty = function setSuperProperty(property /*: Object*/, value /*: Object*/, isComputed /*: boolean*/) /*: Object*/ {\n    return t.callExpression(this.file.addHelper(\"set\"), [t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [this.isStatic ? this.getObjectRef() : t.memberExpression(this.getObjectRef(), t.identifier(\"prototype\"))]), isComputed ? property : t.stringLiteral(property.name), value, t.thisExpression()]);\n  };\n\n  /**\n   * Gets a node representing the super class value of the named property.\n   *\n   * @example\n   *\n   *   _get(Object.getPrototypeOf(CLASS.prototype), \"METHOD\", this)\n   *\n   */\n\n  ReplaceSupers.prototype.getSuperProperty = function getSuperProperty(property /*: Object*/, isComputed /*: boolean*/) /*: Object*/ {\n    return t.callExpression(this.file.addHelper(\"get\"), [t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [this.isStatic ? this.getObjectRef() : t.memberExpression(this.getObjectRef(), t.identifier(\"prototype\"))]), isComputed ? property : t.stringLiteral(property.name), t.thisExpression()]);\n  };\n\n  ReplaceSupers.prototype.replace = function replace() {\n    this.methodPath.traverse(visitor, this);\n  };\n\n  ReplaceSupers.prototype.getLooseSuperProperty = function getLooseSuperProperty(id /*: Object*/, parent /*: Object*/) {\n    var methodNode = this.methodNode;\n    var superRef = this.superRef || t.identifier(\"Function\");\n\n    if (parent.property === id) {\n      return;\n    } else if (t.isCallExpression(parent, { callee: id })) {\n      return;\n    } else if (t.isMemberExpression(parent) && !methodNode[\"static\"]) {\n      // super.test -> objectRef.prototype.test\n      return t.memberExpression(superRef, t.identifier(\"prototype\"));\n    } else {\n      return superRef;\n    }\n  };\n\n  ReplaceSupers.prototype.looseHandle = function looseHandle(path /*: NodePath*/) {\n    var node = path.node;\n    if (path.isSuper()) {\n      return this.getLooseSuperProperty(node, path.parent);\n    } else if (path.isCallExpression()) {\n      var callee = node.callee;\n      if (!t.isMemberExpression(callee)) return;\n      if (!t.isSuper(callee.object)) return;\n\n      // super.test(); -> objectRef.prototype.MethodName.call(this);\n      t.appendToMemberExpression(callee, t.identifier(\"call\"));\n      node.arguments.unshift(t.thisExpression());\n      return true;\n    }\n  };\n\n  ReplaceSupers.prototype.specHandleAssignmentExpression = function specHandleAssignmentExpression(ref, path, node) {\n    if (node.operator === \"=\") {\n      // super.name = \"val\"; -> _set(Object.getPrototypeOf(objectRef.prototype), \"name\", this);\n      return this.setSuperProperty(node.left.property, node.right, node.left.computed);\n    } else {\n      // super.age += 2; -> let _ref = super.age; super.age = _ref + 2;\n      ref = ref || path.scope.generateUidIdentifier(\"ref\");\n      return [t.variableDeclaration(\"var\", [t.variableDeclarator(ref, node.left)]), t.expressionStatement(t.assignmentExpression(\"=\", node.left, t.binaryExpression(node.operator[0], ref, node.right)))];\n    }\n  };\n\n  ReplaceSupers.prototype.specHandle = function specHandle(path /*: NodePath*/) {\n    var property = undefined;\n    var computed = undefined;\n    var args = undefined;\n    var thisReference = undefined;\n\n    var parent = path.parent;\n    var node = path.node;\n\n    if (isIllegalBareSuper(node, parent)) {\n      throw path.buildCodeFrameError(messages.get(\"classesIllegalBareSuper\"));\n    }\n\n    if (t.isCallExpression(node)) {\n      var callee = node.callee;\n      if (t.isSuper(callee)) {\n        return;\n      } else if (isMemberExpressionSuper(callee)) {\n        // super.test(); -> _get(Object.getPrototypeOf(objectRef.prototype), \"test\", this).call(this);\n        property = callee.property;\n        computed = callee.computed;\n        args = node.arguments;\n      }\n    } else if (t.isMemberExpression(node) && t.isSuper(node.object)) {\n      // super.name; -> _get(Object.getPrototypeOf(objectRef.prototype), \"name\", this);\n      property = node.property;\n      computed = node.computed;\n    } else if (t.isUpdateExpression(node) && isMemberExpressionSuper(node.argument)) {\n      var binary = t.binaryExpression(node.operator[0], node.argument, t.numericLiteral(1));\n      if (node.prefix) {\n        // ++super.foo; -> super.foo += 1;\n        return this.specHandleAssignmentExpression(null, path, binary);\n      } else {\n        // super.foo++; -> let _ref = super.foo; super.foo = _ref + 1;\n        var ref = path.scope.generateUidIdentifier(\"ref\");\n        return this.specHandleAssignmentExpression(ref, path, binary).concat(t.expressionStatement(ref));\n      }\n    } else if (t.isAssignmentExpression(node) && isMemberExpressionSuper(node.left)) {\n      return this.specHandleAssignmentExpression(null, path, node);\n    }\n\n    if (!property) return;\n\n    var superProperty = this.getSuperProperty(property, computed, thisReference);\n\n    if (args) {\n      return this.optimiseCall(superProperty, args);\n    } else {\n      return superProperty;\n    }\n  };\n\n  ReplaceSupers.prototype.optimiseCall = function optimiseCall(callee, args) {\n    var thisNode = t.thisExpression();\n    thisNode[HARDCORE_THIS_REF] = true;\n    return _babelHelperOptimiseCallExpression2[\"default\"](callee, thisNode, args);\n  };\n\n  return ReplaceSupers;\n})();\n\nexports[\"default\"] = ReplaceSupers;\nmodule.exports = exports[\"default\"];"]}