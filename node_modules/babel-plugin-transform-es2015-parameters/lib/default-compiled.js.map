{"version":3,"sources":["default.js"],"names":[],"mappings":"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","file":"default-compiled.js","sourcesContent":["\"use strict\";\n\nvar _getIterator = require(\"babel-runtime/core-js/get-iterator\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _babelHelperGetFunctionArity = require(\"babel-helper-get-function-arity\");\n\nvar _babelHelperGetFunctionArity2 = _interopRequireDefault(_babelHelperGetFunctionArity);\n\nvar _babelHelperCallDelegate = require(\"babel-helper-call-delegate\");\n\nvar _babelHelperCallDelegate2 = _interopRequireDefault(_babelHelperCallDelegate);\n\nvar _babelTemplate = require(\"babel-template\");\n\nvar _babelTemplate2 = _interopRequireDefault(_babelTemplate);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar buildDefaultParam = _babelTemplate2[\"default\"](\"\\n  let VARIABLE_NAME =\\n    ARGUMENTS.length <= ARGUMENT_KEY || ARGUMENTS[ARGUMENT_KEY] === undefined ?\\n      DEFAULT_VALUE\\n    :\\n      ARGUMENTS[ARGUMENT_KEY];\\n\");\n\nvar buildDefaultParamAssign = _babelTemplate2[\"default\"](\"\\n  if (VARIABLE_NAME === undefined) VARIABLE_NAME = DEFAULT_VALUE;\\n\");\n\nvar buildCutOff = _babelTemplate2[\"default\"](\"\\n  let $0 = $1[$2];\\n\");\n\nfunction hasDefaults(node) {\n  for (var _iterator = (node.params /*: Array<Object>*/), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _getIterator(_iterator);;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var param = _ref;\n\n    if (!t.isIdentifier(param)) return true;\n  }\n  return false;\n}\n\nvar iifeVisitor = {\n  ReferencedIdentifier: function ReferencedIdentifier(path, state) {\n    var name = path.node.name;\n    if (name === \"eval\" || path.scope.hasOwnBinding(name) && path.scope.getOwnBinding(name).kind !== \"param\") {\n      state.iife = true;\n      path.stop();\n    }\n  },\n\n  Scope: function Scope(path) {\n    // different bindings\n    path.skip();\n  }\n};\n\nvar visitor = {\n  Function: function Function(path) {\n    var node = path.node;\n    var scope = path.scope;\n\n    if (!hasDefaults(node)) return;\n\n    // ensure it's a block, useful for arrow functions\n    path.ensureBlock();\n\n    var state = {\n      iife: false,\n      scope: scope\n    };\n\n    var body = [];\n\n    //\n    var argsIdentifier = t.identifier(\"arguments\");\n    argsIdentifier._shadowedFunctionLiteral = path;\n\n    // push a default parameter definition\n    function pushDefNode(left, right, i) {\n      var defNode = undefined;\n      if (exceedsLastNonDefault(i) || t.isPattern(left)) {\n        defNode = buildDefaultParam({\n          VARIABLE_NAME: left,\n          DEFAULT_VALUE: right,\n          ARGUMENT_KEY: t.numericLiteral(i),\n          ARGUMENTS: argsIdentifier\n        });\n      } else {\n        defNode = buildDefaultParamAssign({\n          VARIABLE_NAME: left,\n          DEFAULT_VALUE: right\n        });\n      }\n      defNode._blockHoist = node.params.length - i;\n      body.push(defNode);\n    }\n\n    // check if an index exceeds the functions arity\n    function exceedsLastNonDefault(i) {\n      return i + 1 > lastNonDefaultParam;\n    }\n\n    //\n    var lastNonDefaultParam = _babelHelperGetFunctionArity2[\"default\"](node);\n\n    //\n    var params = path.get(\"params\");\n    for (var i = 0; i < params.length; i++) {\n      var param = params[i];\n\n      if (!param.isAssignmentPattern()) {\n        if (!param.isIdentifier()) {\n          param.traverse(iifeVisitor, state);\n        }\n\n        continue;\n      }\n\n      var left = param.get(\"left\");\n      var right = param.get(\"right\");\n\n      //\n      if (exceedsLastNonDefault(i) || left.isPattern()) {\n        var placeholder = scope.generateUidIdentifier(\"x\");\n        placeholder._isDefaultPlaceholder = true;\n        node.params[i] = placeholder;\n      } else {\n        node.params[i] = left.node;\n      }\n\n      //\n      if (!state.iife) {\n        if (right.isIdentifier() && scope.hasOwnBinding(right.node.name) && scope.getOwnBinding(right.node.name).kind !== \"param\") {\n          // the right hand side references a parameter\n          state.iife = true;\n        } else {\n          right.traverse(iifeVisitor, state);\n        }\n      }\n\n      pushDefNode(left.node, right.node, i);\n    }\n\n    // add declarations for trailing parameters\n    for (var i = lastNonDefaultParam + 1; i < node.params.length; i++) {\n      var param = node.params[i];\n      if (param._isDefaultPlaceholder) continue;\n\n      var declar = buildCutOff(param, argsIdentifier, t.numericLiteral(i));\n      declar._blockHoist = node.params.length - i;\n      body.push(declar);\n    }\n\n    // we need to cut off all trailing parameters\n    node.params = node.params.slice(0, lastNonDefaultParam);\n\n    if (state.iife) {\n      body.push(_babelHelperCallDelegate2[\"default\"](path, scope));\n      path.set(\"body\", t.blockStatement(body));\n    } else {\n      path.get(\"body\").unshiftContainer(\"body\", body);\n    }\n  }\n};\nexports.visitor = visitor;"]}