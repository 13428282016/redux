{"version":3,"sources":["browser-onload.js"],"names":[],"mappings":";;AAEA,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AACjC,QAAM,CAAC,cAAc,GAAG,CAAC,CAAC;AAC1B,QAAM,CAAC,OAAO,GAAG,KAAK,CAAC;AACvB,QAAM,CAAC,MAAM,GAAG,YAAY;AAC1B,UAAM,CAAC,WAAW,GAAG,IAAI,CAAC;AAC1B,QAAI,aAAa,GAAG,UAAU,MAAM,EAAE;AACpC,UAAI,WAAW,GAAG,EAAE,CAAC;AACrB,UAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE;AACpB,cAAM,CAAC,WAAW,GAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,KAAK,CAAC,AAAC,CAAC;OACpD;AACD,YAAM,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC5B,cAAM,CAAC,cAAc,IAAI,CAAC,CAAC;OAC5B,CAAC,CAAC;AACH,YAAM,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,IAAI,EAAE,GAAG,EAAE;AACrC,cAAM,CAAC,OAAO,GAAG,IAAI,CAAC;AACtB,YAAI,aAAa,GAAG,UAAU,aAAa,EAAE;AAC3C,cAAI,MAAM,GAAG,EAAE,CAAC;AAChB,cAAI,WAAW,GAAG,aAAa,CAAC;AAChC,iBAAO,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE;AAC/B,kBAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACtC,uBAAW,GAAG,WAAW,CAAC,MAAM,CAAC;WAClC;AACD,iBAAO,MAAM,CAAC,OAAO,EAAE,CAAC;SACzB,CAAC;AACF,mBAAW,CAAC,IAAI,CAAC;AACf,cAAI,EAAE,IAAI,CAAC,KAAK;AAChB,gBAAM,EAAE,KAAK;AACb,iBAAO,EAAE,GAAG,CAAC,OAAO;AACpB,eAAK,EAAE,GAAG,CAAC,KAAK;AAChB,gBAAM,EAAE,aAAa,CAAC,IAAI,CAAC;SAC5B,CAAC,CAAC;OACJ,CAAC,CAAC;AACH,YAAM,CAAC,EAAE,CAAC,KAAK,EAAE,YAAY;AAC3B,cAAM,CAAC,WAAW,GAAG,CAAC,MAAM,CAAC,OAAO;;AAAC,AAErC,cAAM,CAAC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC;AACnC,cAAM,CAAC,YAAY,CAAC,OAAO,GAAG,WAAW,CAAC;OAC3C,CAAC,CAAC;AACH,aAAO,MAAM,CAAC;KACf,CAAC;AACF,iBAAa,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC;GAC5B,CAAC;CACH","file":"browser-onload-compiled.js","sourcesContent":["/* global window, mocha */\n\nif (typeof window !== 'undefined') {\n  window.completedTests = 0;\n  window.sawFail = false;\n  window.onload = function () {\n    window.testsPassed = null;\n    var handleResults = function (runner) {\n      var failedTests = [];\n      if (runner.stats.end) {\n        window.testsPassed = (runner.stats.failures === 0);\n      }\n      runner.on('pass', function () {\n        window.completedTests += 1;\n      });\n      runner.on('fail', function (test, err) {\n        window.sawFail = true;\n        var flattenTitles = function (testToFlatten) {\n          var titles = [];\n          var currentTest = testToFlatten;\n          while (currentTest.parent.title) {\n            titles.push(currentTest.parent.title);\n            currentTest = currentTest.parent;\n          }\n          return titles.reverse();\n        };\n        failedTests.push({\n          name: test.title,\n          result: false,\n          message: err.message,\n          stack: err.stack,\n          titles: flattenTitles(test)\n        });\n      });\n      runner.on('end', function () {\n        window.testsPassed = !window.sawFail;\n        // for sauce\n        window.mochaResults = runner.stats;\n        window.mochaResults.reports = failedTests;\n      });\n      return runner;\n    };\n    handleResults(mocha.run());\n  };\n}\n"]}