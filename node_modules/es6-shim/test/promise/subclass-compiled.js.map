{"version":3,"sources":["subclass.js"],"names":[],"mappings":";;AAEA,QAAQ,CAAC,qCAAqC,EAAE,YAAY;AAC1D,cAAY,CAAC;;AAEb,IAAE,CAAC,gCAAgC,EAAE,UAAU,IAAI,EAAE;;;AAGnD,QAAI,SAAS,GAAG,UAAU,QAAQ,EAAE;AAClC,UAAI,IAAI,GAAG,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,YAAM,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC;AACjD,UAAI,CAAC,IAAI,GAAG,MAAM,CAAC;AACnB,aAAO,IAAI,CAAC;KACb,CAAC;AACF,QAAI,CAAC,MAAM,CAAC,cAAc,EAAE;AAAE,aAAO,IAAI,EAAE,CAAC;KAAE;AAAA,AAC9C,UAAM,CAAC,cAAc,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AAC1C,aAAS,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE;AACrD,iBAAW,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE;KAClC,CAAC;;;AAAC,AAGH,QAAI,EAAE,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC9B,UAAM,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACpC,MAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;AACxB,YAAM,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC1B,CAAC,CAAC;AACH,UAAM,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;;AAEpC,QAAI,EAAE,GAAG,IAAI,SAAS,CAAC,UAAU,CAAC,EAAE;AAAE,OAAC,CAAC,CAAC,CAAC,CAAC;KAAE,CAAC,CAAC;AAC/C,UAAM,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACpC,MAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;AACxB,YAAM,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC1B,CAAC,CAAC;AACH,UAAM,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;;AAEpC,QAAI,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AACjC,UAAM,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACpC,MAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY;AAAE,UAAI,EAAE,CAAC;KAAE,EAAE,IAAI,CAAC,CAAC;GAC7C,CAAC,CAAC;;AAEH,IAAE,CAAC,0CAA0C,EAAE,YAAY;AACzD,QAAI,SAAS,GAAG,YAAY,EAAE,CAAC;AAC/B,UAAM,CAAC,QAAQ,CAAC,CAAC,YAAY;AAC3B,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;KACjC,EAAE,SAAS,CAAC,CAAC;GACf,CAAC,CAAC;CACJ,CAAC,CAAC","file":"subclass-compiled.js","sourcesContent":["/* global it, describe, assert, Promise */\n\ndescribe('Support user subclassing of Promise', function () {\n  'use strict';\n\n  it('should work if you do it right', function (done) {\n    // This is the \"correct\" es6-compatible way.\n    // (Thanks, @domenic and @zloirock!)\n    var MyPromise = function (executor) {\n      var self = new Promise(executor);\n      Object.setPrototypeOf(self, MyPromise.prototype);\n      self.mine = 'yeah';\n      return self;\n    };\n    if (!Object.setPrototypeOf) { return done(); } // skip test if on IE < 11\n    Object.setPrototypeOf(MyPromise, Promise);\n    MyPromise.prototype = Object.create(Promise.prototype, {\n      constructor: { value: MyPromise }\n    });\n\n    // let's try it!\n    var p1 = MyPromise.resolve(5);\n    assert.strictEqual(p1.mine, 'yeah');\n    p1 = p1.then(function (x) {\n      assert.strictEqual(x, 5);\n    });\n    assert.strictEqual(p1.mine, 'yeah');\n\n    var p2 = new MyPromise(function (r) { r(6); });\n    assert.strictEqual(p2.mine, 'yeah');\n    p2 = p2.then(function (x) {\n      assert.strictEqual(x, 6);\n    });\n    assert.strictEqual(p2.mine, 'yeah');\n\n    var p3 = MyPromise.all([p1, p2]);\n    assert.strictEqual(p3.mine, 'yeah');\n    p3 = p3.then(function () { done(); }, done);\n  });\n\n  it(\"should throw if you don't inherit at all\", function () {\n    var MyPromise = function () {};\n    assert['throws'](function () {\n      Promise.all.call(MyPromise, []);\n    }, TypeError);\n  });\n});\n"]}