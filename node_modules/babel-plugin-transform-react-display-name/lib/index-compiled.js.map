{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nexports[\"default\"] = function (_ref) {\n  var t = _ref.types;\n\n  function addDisplayName(id, call) {\n    var props = call.arguments[0].properties;\n    var safe = true;\n\n    for (var i = 0; i < props.length; i++) {\n      var prop = props[i];\n      var key = t.toComputedKey(prop);\n      if (t.isLiteral(key, { value: \"displayName\" })) {\n        safe = false;\n        break;\n      }\n    }\n\n    if (safe) {\n      props.unshift(t.objectProperty(t.identifier(\"displayName\"), t.stringLiteral(id)));\n    }\n  }\n\n  var isCreateClassCallExpression = t.buildMatchMemberExpression(\"React.createClass\");\n\n  function isCreateClass(node) {\n    if (!node || !t.isCallExpression(node)) return false;\n\n    // not React.createClass call member object\n    if (!isCreateClassCallExpression(node.callee)) return false;\n\n    // no call arguments\n    var args = node.arguments;\n    if (args.length !== 1) return false;\n\n    // first node arg is not an object\n    var first = args[0];\n    if (!t.isObjectExpression(first)) return false;\n\n    return true;\n  }\n\n  return {\n    visitor: {\n      ExportDefaultDeclaration: function ExportDefaultDeclaration(_ref2, state) {\n        var node = _ref2.node;\n\n        if (isCreateClass(node.declaration)) {\n          var displayName = state.file.opts.basename;\n\n          // ./{module name}/index.js\n          if (displayName === \"index\") {\n            displayName = _path2[\"default\"].basename(_path2[\"default\"].dirname(state.file.opts.filename));\n          }\n\n          addDisplayName(displayName, node.declaration);\n        }\n      },\n\n      CallExpression: function CallExpression(path) {\n        var node = path.node;\n\n        if (!isCreateClass(node)) return;\n\n        var id = undefined;\n\n        // crawl up the ancestry looking for possible candidates for displayName inference\n        path.find(function (path) {\n          if (path.isAssignmentExpression()) {\n            id = path.node.left;\n          } else if (path.isObjectProperty()) {\n            id = path.node.key;\n          } else if (path.isVariableDeclarator()) {\n            id = path.node.id;\n          } else if (path.isStatement()) {\n            // we've hit a statement, we should stop crawling up\n            return true;\n          }\n\n          // we've got an id! no need to continue\n          if (id) return true;\n        });\n\n        // ensure that we have an identifier we can inherit from\n        if (!id) return;\n\n        // foo.bar -> bar\n        if (t.isMemberExpression(id)) {\n          id = id.property;\n        }\n\n        // identifiers are the only thing we can reliably get a name from\n        if (t.isIdentifier(id)) {\n          addDisplayName(id.name, node);\n        }\n      }\n    }\n  };\n};\n\nmodule.exports = exports[\"default\"];"]}